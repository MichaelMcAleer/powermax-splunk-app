<form>
    <label>Hosts</label>
    <search id="vmax_24hr_data">
        <query>`vmax_host` array_id=$array_tok$ host_id=$host_tok$
            | fields array_id, host_id, host_ios, host_mb_reads,
            host_mb_writes, mbs,
            reads, writes, read_response_time, write_response_time,
            sys_call_count
        </query>
        <earliest>$time_tok.earliest$</earliest>
        <latest>$time_tok.latest$</latest>
    </search>
    <search id="vmax_host_recent_data">
        <query>`vmax_host` array_id=$array_tok$ host_id=$host_tok$
            | dedup array_id, host_id
            | fields array_id, host_id, type, initiator{}, masking_view{},
            num_of_host_groups, disabled_flags{},
            enabled_flags{}, port_flags_override, consistent_lun, host_ios,
            mbs, host_mb_reads, host_mb_writes,
            reads, writes, response_time, read_response_time,
            write_response_time, sys_call_count
        </query>
        <earliest>-15m</earliest>
        <latest>now</latest>
    </search>
    <fieldset submitButton="false" autoRun="true">
        <input type="dropdown" token="array_tok" searchWhenChanged="true">
            <label>Array ID</label>
            <choice value="*">ALL</choice>
            <search>
                <query>`vmax_array` | dedup array_id | table array_id | sort
                    array_id
                </query>
                <earliest>$time_tok.earliest$</earliest>
                <latest>$time_tok.latest$</latest>
            </search>
            <fieldForLabel>array_id</fieldForLabel>
            <fieldForValue>array_id</fieldForValue>
            <default>*</default>
        </input>
        <input type="dropdown" token="host_tok" searchWhenChanged="true">
            <label>Host ID</label>
            <choice value="*">ALL</choice>
            <search>
                <query>`vmax_host` array_id=$array_tok$ | dedup host_id | table
                    host_id | sort host_id
                </query>
                <earliest>$time_tok.earliest$</earliest>
                <latest>$time_tok.latest$</latest>
            </search>
            <fieldForLabel>host_id</fieldForLabel>
            <fieldForValue>host_id</fieldForValue>
            <default>*</default>
        </input>
        <input type="time" token="time_tok" searchWhenChanged="true">
            <label>Time Frame</label>
            <default>
                <earliest>-24h</earliest>
                <latest>now</latest>
            </default>
        </input>
    </fieldset>
    <row>
        <panel>
            <title>Read Response Time (ms)</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(read_response_time) by host_id
                        usenull=f useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Write Response Time (ms)</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(write_response_time) by host_id
                        usenull=f useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Host IO/s</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(host_ios) by host_id usenull=f
                        useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
    </row>
    <row>
        <panel>
            <title>Host MBs/sec</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(mbs) by host_id usenull=f
                        useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Host MBs Read/Sec</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(host_mb_reads) by host_id usenull=f
                        useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Host MBs Written/sec</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(host_mb_writes) by host_id usenull=f
                        useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
    </row>
    <row>
        <panel>
            <title>Host Reads/sec</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(reads) by host_id usenull=f
                        useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Host Writes/sec</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(writes) by host_id usenull=f
                        useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
        <panel>
            <title>Syscall Count/sec</title>
            <chart>
                <search base="vmax_24hr_data">
                    <query>| timechart avg(sys_call_count) by host_id usenull=f
                        useother=f
                    </query>
                </search>
                <option name="charting.axisTitleX.visibility">collapsed
                </option>
                <option name="charting.axisTitleY.visibility">collapsed
                </option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">zero</option>
                <option name="charting.drilldown">none</option>
            </chart>
        </panel>
    </row>
    <row>
        <panel>
            <title>Host Summary</title>
            <table>
                <search base="vmax_host_recent_data">
                    <query>
                        | table array_id, host_id, type, initiator{},
                        masking_view{}, num_of_host_groups,
                        disabled_flags{}, enabled_flags{}, port_flags_override,
                        consistent_lun
                        | sort array_id, host_id
                        | rename array_id as "Array ID", host_id as "Host ID",
                        type as Type, initiator{} as "Initiator
                        IDs", masking_view{} as "Masking Views",
                        num_of_host_groups as "Number of Host Groups",
                        disabled_flags{} as "Disabled Flags", enabled_flags{}
                        as "Enabled Flags", port_flags_override as
                        "Port Flags Override", consistent_lun as "Consistent
                        Lun"
                    </query>
                </search>
                <option name="drilldown">none</option>
            </table>
        </panel>
    </row>
    <row>
        <panel>
            <title>Active Host Summary</title>
            <table>
                <search base="vmax_host_recent_data">
                    <query>| spath host_perf_details | search NOT
                        host_perf_details=false
                        | eval r_host_ios=round(host_ios,2),
                        r_mbs=round(mbs,2),
                        r_host_mb_reads=round(host_mb_reads,2),
                        r_host_mb_writes=round(host_mb_writes,2),
                        r_reads=round(reads,2), r_writes=round(writes,2),
                        r_response_time=round(response_time,2),
                        r_read_response_time=round(read_response_time,2),
                        r_write_response_time=round(write_response_time,2),
                        r_sys_call_count=round(sys_call_count,2)
                        | table array_id, host_id, r_host_ios, r_mbs,
                        r_host_mb_reads, r_host_mb_writes, r_reads,
                        r_writes,r_response_time, r_read_response_time,
                        r_write_response_time, r_sys_call_count
                        | rename array_id as "Array ID", host_id as "Host ID",
                        r_host_ios as "Host IOs/sec", r_mbs as
                        "MBs/sec", r_host_mb_reads as "Host MB Reads/sec",
                        r_host_mb_writes as "Host MB Writes/sec",
                        r_reads as "Reads/sec", r_writes as "Writes/sec"
                        ,r_response_time as "Response Time(ms)",
                        r_read_response_time as "Read Response Time(ms)",
                        r_write_response_time as "Write Response
                        Time(ms)", r_sys_call_count as "SysCall Count/sec"
                    </query>
                </search>
                <option name="count">10</option>
                <option name="drilldown">none</option>
                <option name="refresh.display">progressbar</option>
            </table>
        </panel>
    </row>
</form>